import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-e04d0b7e.js";import{_ as t}from"./Search.vue_vue_type_script_setup_true_lang-f7cad0b0.js";import{d as a,u as l,j as o,q as i,x as s,r,o as m,g as p,w as n,f as d,a as c,e as u,m as g,t as j}from"./index-61faf58b.js";import{E as _}from"./el-button-e6441f40.js";import{E as b}from"./el-tag-450bf357.js";import{_ as f}from"./Table.vue_vue_type_script_lang-b82724f5.js";import{g as x,d as v}from"./index-055e179d.js";import{u as h}from"./useTable-c44ab387.js";import{u as y}from"./useEmitt-16ce7bc8.js";import{u as D}from"./useCrudSchemas-9ea79cf4.js";import"./el-card-839bb50e.js";import"./el-popper-e10402a6.js";import"./index-f844f20d.js";import"./Form-7bd7b6f3.js";import"./el-col-0b4bbd49.js";import"./el-input-dc0bf57b.js";import"./event-5568c9d8.js";import"./tsxHelper-98042daf.js";import"./index-7630a328.js";import"./scroll-a2507849.js";import"./debounce-7bd0410d.js";import"./validator-9877d78c.js";import"./el-input-number-b68dff77.js";import"./el-switch-3796832a.js";import"./el-divider-30a44c9a.js";import"./InputPassword-6a9b1358.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./style.css_vue_type_style_index_0_src_true_lang-cd9eff14.js";import"./aria-ecee1d93.js";import"./useForm-e3b0495d.js";import"./index-4154bb8a.js";import"./el-message-box-f87b857a.js";import"./el-overlay-37f85d5d.js";import"./vnode-ae8de639.js";import"./tree-b59d36bb.js";const w={class:"mb-10px"},S=a({name:"ExamplePage"}),C=a({...S,setup(a){const{push:S}=l(),{register:C,tableObject:k,methods:P}=h({getListApi:x,delListApi:v,response:{list:"list",total:"total"}}),{getList:L,setSearchParams:R}=P;L(),y({name:"getList",callback:e=>{"add"===e&&(k.currentPage=1),L()}});const{t:z}=o(),E=i([{field:"index",label:z("tableDemo.index"),type:"index"},{field:"title",label:z("tableDemo.title"),search:{show:!0}},{field:"author",label:z("tableDemo.author")},{field:"display_time",label:z("tableDemo.displayTime")},{field:"importance",label:z("tableDemo.importance"),formatter:(e,t,a)=>s(b,{type:1===a?"success":2===a?"warning":"danger"},(()=>z(1===a?"tableDemo.important":2===a?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:z("tableDemo.pageviews")},{field:"content",label:z("exampleDemo.content"),table:{show:!1}},{field:"action",width:"260px",label:z("tableDemo.action")}]),{allSchemas:T}=D(E),$=()=>{S("/example/example-add")},q=r(!1),A=async(e,t)=>{var a;k.currentRow=e;const{delList:l,getSelections:o}=P,i=await o();q.value=!0,await l(t?i.map((e=>e.id)):[null==(a=k.currentRow)?void 0:a.id],t).finally((()=>{q.value=!1}))},F=(e,t)=>{S(`/example/example-${t}?id=${e.id}`)};return(a,l)=>(m(),p(c(e),null,{default:n((()=>[d(c(t),{schema:c(T).searchSchema,onSearch:c(R),onReset:c(R)},null,8,["schema","onSearch","onReset"]),u("div",w,[d(c(_),{type:"primary",onClick:$},{default:n((()=>[g(j(c(z)("exampleDemo.add")),1)])),_:1}),d(c(_),{loading:q.value,type:"danger",onClick:l[0]||(l[0]=e=>A(null,!0))},{default:n((()=>[g(j(c(z)("exampleDemo.del")),1)])),_:1},8,["loading"])]),d(c(f),{pageSize:c(k).pageSize,"onUpdate:pageSize":l[1]||(l[1]=e=>c(k).pageSize=e),currentPage:c(k).currentPage,"onUpdate:currentPage":l[2]||(l[2]=e=>c(k).currentPage=e),columns:c(T).tableColumns,data:c(k).tableList,loading:c(k).loading,pagination:{total:c(k).total},onRegister:c(C)},{action:n((({row:e})=>[d(c(_),{type:"primary",onClick:t=>F(e,"edit")},{default:n((()=>[g(j(c(z)("exampleDemo.edit")),1)])),_:2},1032,["onClick"]),d(c(_),{type:"success",onClick:t=>F(e,"detail")},{default:n((()=>[g(j(c(z)("exampleDemo.detail")),1)])),_:2},1032,["onClick"]),d(c(_),{type:"danger",onClick:t=>A(e,!1)},{default:n((()=>[g(j(c(z)("exampleDemo.del")),1)])),_:2},1032,["onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}});export{C as default};
