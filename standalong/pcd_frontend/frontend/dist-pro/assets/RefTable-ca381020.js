import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-e04d0b7e.js";import{d as t,j as l,q as a,x as o,r as i,o as s,c as n,f as r,w as m,a as p,m as d,t as u,e as b,F as c}from"./index-61faf58b.js";import{_ as f}from"./Table.vue_vue_type_script_lang-b82724f5.js";import{g}from"./index-055e179d.js";import{E as _}from"./el-tag-450bf357.js";import{E as D}from"./el-button-e6441f40.js";import{u as v}from"./useTable-c44ab387.js";import"./el-card-839bb50e.js";import"./el-popper-e10402a6.js";import"./index-f844f20d.js";import"./tsxHelper-98042daf.js";import"./event-5568c9d8.js";import"./el-input-dc0bf57b.js";import"./index-7630a328.js";import"./scroll-a2507849.js";import"./debounce-7bd0410d.js";import"./validator-9877d78c.js";import"./index-4154bb8a.js";import"./el-message-box-f87b857a.js";import"./el-overlay-37f85d5d.js";import"./vnode-ae8de639.js";import"./aria-ecee1d93.js";const j={class:"ml-30px"},x=t({__name:"RefTable",setup(t){const{t:x}=l(),h=a([{field:"index",label:x("tableDemo.index"),type:"index"},{field:"content",label:x("tableDemo.header"),children:[{field:"title",label:x("tableDemo.title")},{field:"author",label:x("tableDemo.author")},{field:"display_time",label:x("tableDemo.displayTime")},{field:"importance",label:x("tableDemo.importance"),formatter:(e,t,l)=>o(_,{type:1===l?"success":2===l?"warning":"danger"},(()=>x(1===l?"tableDemo.important":2===l?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:x("tableDemo.pageviews")}]},{field:"action",label:x("tableDemo.action")}]),{register:C,tableObject:k,methods:y}=v({getListApi:g,response:{list:"list",total:"total"},props:{columns:h}}),{getList:w}=y;w();const R=i(),T=i(),P=e=>{T.value=e?{total:k.total}:void 0},S=e=>{var t;null==(t=p(R))||t.setProps({reserveIndex:e})},z=e=>{var t;null==(t=p(R))||t.setProps({selection:e})},E=i(1),L=()=>{var e;null==(e=p(R))||e.setColumn([{field:"title",path:"label",value:`${x("tableDemo.title")}${p(E)}`}]),E.value++},$=e=>{var t;null==(t=p(R))||t.setProps({expand:e})},A=()=>{var e,t;null==(t=null==(e=p(R))?void 0:e.elTableRef)||t.toggleAllSelection()};return(t,l)=>(s(),n(c,null,[r(p(e),{title:`RefTable ${p(x)("tableDemo.operate")}`},{default:m((()=>[r(p(D),{onClick:l[0]||(l[0]=e=>P(!0))},{default:m((()=>[d(u(p(x)("tableDemo.show"))+" "+u(p(x)("tableDemo.pagination")),1)])),_:1}),r(p(D),{onClick:l[1]||(l[1]=e=>P(!1))},{default:m((()=>[d(u(p(x)("tableDemo.hidden"))+" "+u(p(x)("tableDemo.pagination")),1)])),_:1}),r(p(D),{onClick:l[2]||(l[2]=e=>S(!0))},{default:m((()=>[d(u(p(x)("tableDemo.reserveIndex")),1)])),_:1}),r(p(D),{onClick:l[3]||(l[3]=e=>S(!1))},{default:m((()=>[d(u(p(x)("tableDemo.restoreIndex")),1)])),_:1}),r(p(D),{onClick:l[4]||(l[4]=e=>z(!0))},{default:m((()=>[d(u(p(x)("tableDemo.showSelections")),1)])),_:1}),r(p(D),{onClick:l[5]||(l[5]=e=>z(!1))},{default:m((()=>[d(u(p(x)("tableDemo.hiddenSelections")),1)])),_:1}),r(p(D),{onClick:L},{default:m((()=>[d(u(p(x)("tableDemo.changeTitle")),1)])),_:1}),r(p(D),{onClick:l[6]||(l[6]=e=>$(!0))},{default:m((()=>[d(u(p(x)("tableDemo.showExpandedRows")),1)])),_:1}),r(p(D),{onClick:l[7]||(l[7]=e=>$(!1))},{default:m((()=>[d(u(p(x)("tableDemo.hiddenExpandedRows")),1)])),_:1}),r(p(D),{onClick:A},{default:m((()=>[d(u(p(x)("tableDemo.selectAllNone")),1)])),_:1})])),_:1},8,["title"]),r(p(e),{title:`RefTable ${p(x)("tableDemo.example")}`},{default:m((()=>[r(p(f),{ref_key:"tableRef",ref:R,pageSize:p(k).pageSize,"onUpdate:pageSize":l[8]||(l[8]=e=>p(k).pageSize=e),currentPage:p(k).currentPage,"onUpdate:currentPage":l[9]||(l[9]=e=>p(k).currentPage=e),data:p(k).tableList,loading:p(k).loading,pagination:T.value,onRegister:p(C)},{action:m((e=>[r(p(D),{type:"primary",onClick:t=>(e=>{console.log(e)})(e)},{default:m((()=>[d(u(p(x)("tableDemo.action")),1)])),_:2},1032,["onClick"])])),expand:m((e=>[b("div",j,[b("div",null,u(p(x)("tableDemo.title"))+"："+u(e.row.title),1),b("div",null,u(p(x)("tableDemo.author"))+"："+u(e.row.author),1),b("div",null,u(p(x)("tableDemo.displayTime"))+"："+u(e.row.display_time),1)])])),_:1},8,["pageSize","currentPage","data","loading","pagination","onRegister"])])),_:1},8,["title"])],64))}});export{x as default};
